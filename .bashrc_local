___dotfiles_dir=$(dirname $(realpath ${BASH_SOURCE}))

export LIBVIRT_DEFAULT_URI=qemu:///system
export EDITOR=vim

# GIT settings
export GIT_PS1_SHOWDIRTYSTATE="1"
export GIT_PS1_SHOWSTASHSTATE="1"
export GIT_PS1_SHOWUNTRACKEDFILES="1"
export GIT_PS1_SHOWUPSTREAM="verbose name"
export GIT_PS1_DESCRIBE_STYLE="describe"

# Enable next three variables (set to `1` or to `true`) if you want to debug git sessions
git_debug_enable() {
    export GIT_TRACE=1
    export GIT_TRACE_PACKET=1
    export GIT_CURL_TRACE=1
}

git_debug_disable() {
    export GIT_TRACE=false
    export GIT_TRACE_PACKET=false
    export GIT_CURL_TRACE=false
}

# GO settings
export GOROOT=/usr/local/go
export GOPATH=${HOME}/Projekty/go
export PATH="${GOPATH}/bin:/usr/local/go/bin:${PATH}"


export LS_OPTIONS='--color=auto'
if [[ -x /usr/bin/dircolors ]]; then
  test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
fi

___git_prompt=''
if [[ -n "$(which git)" ]]; then
    ___git_prompt=' $(__git_ps1 "\[\033[0m\]| \[\033[31m\]git: \[\033[32m\]%s ")'
fi
PS1='\n\[\033[32m\][\d \t] \[\033[0m\]| \[\033[34;1m\]\u\[\033[0m\]@\[\033[31m\]\h\[\033[0m\]:\[\033[33;1m\]\w'${___git_prompt}'\[\033[0m\]\$\n\[\033[34;1m\]\u\[\033[0m\]@\[\033[31m\]\h\[\033[0m\]:\$ '


alias ls='ls $LS_OPTIONS'
alias ll='ls -l'
alias la='ls -A'
alias l='ls -CF'

alias grep='grep $LS_OPTIONS'
alias fgrep='fgrep $LS_OPTIONS'
alias egrep='egrep $LS_OPTIONS'


alias dockerclearcontainers="docker ps -a -q -f status=exited | xargs -r docker rm -v"
alias dockerclearimages="docker images -f "dangling=true" -q | xargs -r docker rmi"
alias dockerclearvolumes="docker volume ls -qf dangling=true | xargs -r docker volume rm"
alias dockerclear="dockerclearcontainers && dockerclearimages && dockerclearvolumes"

alias home_display='xrandr --output LVDS --mode 1366x768 --output HDMI-0 --mode 1920x1080 --left-of LVDS'
alias home_display_off='xrandr --output LVDS --mode 1366x768 --output HDMI-0 --off'

alias brspec='bundle exec rspec --format documentation'
alias brake='bundle exec rake'


if [[ -f /etc/bash_completion ]]; then
    source /etc/bash_completion
elif [[ -f /etc/bash_completion.d/git-prompt ]]; then
    source /etc/bash_completion.d/git-prompt
fi


if [[ -d ${HOME}/.rbenv/bin ]]; then
    export PATH="${HOME}/.rbenv/bin:${PATH}"
    eval "$(rbenv init -)"
fi


if [[ -f ~/Projekty/gitlab/gdk/gdk ]]; then
    source ~/Projekty/gitlab/gdk/gdk
fi


if [[ -d /opt/jetbrains/idea/current/bin ]]; then
    export PATH="/opt/jetbrains/idea/current/bin:${PATH}"
fi
if [[ -d /opt/jetbrains/rubymine/current/bin ]]; then
    export PATH="/opt/jetbrains/rubymine/current/bin:${PATH}"
fi


if [[ -d ~/.bashrc_local.d ]]; then
    for file in ~/.bashrc_local.d/*; do
        source ${file}
    done
fi
